plugins {
    id 'java'
}

def baseVersion = '2.5.4'
version = "Plus-" + baseVersion
group = "ru.serega007.bcsc"
archivesBaseName = "BetterCSC"

[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

repositories {
    mavenCentral()
}

dependencies {
    compileOnly fileTree(dir: 'libs', include: ['*.jar'])
    compileOnly fileTree(dir: 'libs/lwjgl', include: ['*.jar'])
    compileOnly fileTree(dir: 'libs/MCLibs', include: ['*.jar'])
}

jar {
	from('./') {
		include('README.md')
	}
}

build.finalizedBy("customZip")

tasks.register('customZip', Zip) {
    from('build/libs/') {
        into 'Xenoceal/mods/'
    }
    from('Injector/') {
        include('bypass.jar')
        include('sunec.jar')
        into('Xenoceal/')
    }
    from('Injector/') {
        include('Bypass.dll')
        into('')
    }
    archiveFileName = 'BetterCSC-' + baseVersion + '.zip'
}